# 前言

## 为什么需要这本书？

1. 许多书籍用一章的篇幅专门讲述指针，而且往往出现在全书的后半部分，但是，仅仅描述指针的语法、并用一些简单的例子展示其用法是远远不够的。我在授课时，很早便开始讲授指针，而且在以后的授课过程中也经常讨论指针。

   我描述它们在各种不同的上下文环境中的有效用法，展示使用指针的编程惯用法(programming idiom)。我还讨论了一些相关的课题如编程效率和程序可维护性之间的权衡。

   指针是本书的线索所在，融会贯通与全书之中。

2. 指针为什么如此重要？

   我的信念是：正是指针使C威力无穷。

   有些任务用其他语言也可以实现，但C能够更有效地实现；有些任务无法用其他语言实现，如直接访问硬件，但C却可以。

   要想成为一名优秀的C程序员，对指针有一个深入而完整的理解是先决条件。

3. 本书提供了你所需要的深入而完整的关于指针的知识，足以使你避开指针可能带来的痛苦。

4. 为什么要学习C语言？

   + 最主要的原因在于它的效率，优秀C程序的效率几乎和汇编语言程序一样高，但C程序明显比汇编程序更易于开发。

     C缺乏“安全网”特性，这虽有助于提高它的效率，但也增加了出错的可能性，例如，C对数组下标引用和指针访问并不进行有效性检查，这可以节省时间，但你在使用这些特性时就必须特别小心。

   + C给予程序员更多的控制权，如控制数据的存储位置和初始化过程等。

   + C提供了丰富的操作符集合，它们可以让程序员有效地执行一些底层的计算如移位和屏蔽等，而不必求助汇编语言。C的这个特点使很多人把C称为“高层”的汇编语言，但是，当需要的时候，C程序可以很方便地提供汇编语言的接口。这些特性使C成为实现操作系统的嵌入性控制器软件的良好选择。

   + C流行的另一个原因是由于它的普遍存在。C编译器在许多机器上实现。另外，ANSI标准提高了C程序在不同机器之间的可移植性。

   + 最后，C是C++的基础。C++提供了一种和C不同的程序设计和实现的观点。然而，如果你对C的知识和技巧，如指针和标准库等成竹在胸，将非常有助于你成为一名优秀的C++程序员。

     而且C的基本技巧仍然非常重要，特别是那些能够实现可复用类的技巧！

# Ch1快速上手

## 1.简介

### 1.预处理指令

1. 预处理指令即preorcessor directives，因为它们是由预处理器(preprocessor)解释的。预处理器读入源代码，根据预处理指令对其进行修改，然后把修改过的源代码递交给__编译器__。

2. 在例子程序中，预处理器用名叫stdio.h的库函数头文件的内容替换第一条#include指令语句，其结果就仿佛是stdio.h的内容被逐字写到源文件的那个位置。

   stdio.h头文件使我们可以访问标准I/O库中的函数，这组函数用于执行输入和输出。

3. 提示：如果你有些声明需要用于几个不同的源文件，这个技巧也是一种方便的方法--你在一个单独的文件中编写这些声明，然后用#include指令把这个文件包含到需要使用这些声明的源文件中。这样，你就只需要这些声明的一份拷贝，用不着在许多不同的地方进行复制，避免了在维护这些代码时出现错误的可能性。

### 2.函数

1. 声明被称为函数原型(function prototype)。它们告诉编译器这些以后将在源文件中定义的函数的特征。这样，当这些函数被调用时，编译器就能对它们进行准确性检查。

   函数原型中参数的名字并非必需。

2. 指针指定一个存储于计算机内存中的值的地址，类似于门牌号码指定某个特定的家庭位于街道的何处。

3. 第二个和第四个参数被声明为const，这表示函数将不会修改函数调用者所传递的这两个参数。

4. 关键字void表示函数并不返回任何值。在其他语言里，这种无返回值的函数被称为过程。

### main函数

1. 如今软件开销的最大之处并非在于编写，而是在于维护！