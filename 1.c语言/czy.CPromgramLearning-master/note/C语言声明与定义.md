# 函数的声明与定义

示例;4.declare.c

1. 我在使用一个函数的时候，需要知道它的定义吗？

   NO！！！！

   只需要知道声明就行！

   Why？

   比如你在使用printf函数时，你会在乎它是如何实现的吗？并不在乎！你只在乎你要给它传什么参数、返回值是什么、这个函数的功能是什么，而这些信息只需要声明就可以说清楚。

2. 结合.c到.out的过程可知，声明的作用就是，在编译过程中，告诉编译器我有这个函数以及它是怎么用的，这样当这些函数被调用时，编译器就可以对它们进行准确性检查。

# 启示

0. 声明和定义是要分开写的，声明都写在头文件中，定义写在源文件中。(他俩最好同名)

1. 一个完美的程序不会因为头文件引用的顺序而发生编译错误
2. 为了保证编译时不出现在一个源文件中重复包含多个函数声明或定义的错误，需要保证每个头文件只被包含一次，这就需要用到条件式编译
3. 但是2的技巧（只保证一次编译时不发生错误）不会保证多个对象文件(.o)链接时没有重复包含
4. 要想解决3的问题，就必须保证0！！！！！

# 程序从源文件(.c)到可执行文件(.out)：

1. 预处理(生成待编译源码)--->编译(生成对象文件.o)--->若干个.o进行链接(生成可执行程序.out)

2. 未声明，是语法错误，不能通过编译。

   未定义不是语法错误，可以通过编译，但不能通过链接！

3. g++ -c test.c生成test.o（对象文件）

4. g++ test.o test1.o是进行链接的命令

5. ld命令

# 在#include后面包含头文件时：

1. include的作用就是把后面的文件原封不动地拷贝到本程序里。

1. “”以当前目录查找
2. <> 在系统查找路径中查找
3. g++ -I+路径  表示在头文件系统查找路径中添加想要查找的路径



# 静态链接库

1. 静态链接库就是将包含定义的源文件编译后的.o文件打成一个包！！！！

2. mac上生成静态链接库的命令是 ar -r libxxx.a  1.o 2.o 3.o

3. 所以，第三方库所要提供的就是两个文件夹，一是lib(即静态链接库)， 二是include(头文件)， 而没有必要给出源文件！！！

4. 在g++编译时如何添加静态链接库搜索路径？

   -L路径

5. 在g++编译时如何用静态链接库？

   -lxxx

   这样就会去寻找libxxx.a的静态链接库了

6. 终极编译代码:

   g++    -I./module/include     -L./module/lib     -lxxx main.c