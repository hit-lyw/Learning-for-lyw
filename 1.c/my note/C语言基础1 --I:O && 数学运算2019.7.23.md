# C语言基础1(by少年宇7.24)

## ＣＨ１、输入输出

| printf       | 输出函数                                                     |
| ------------ | ------------------------------------------------------------ |
| 头文件       | stdio.h                                                      |
| 返回值（int) | 输出字符的数量  ==如果输出123则是３个字符==（详情见随堂练习１）（即敲几下键盘就是几个字符） |

| scanf  | 输入函数                                                     |
| ------ | ------------------------------------------------------------ |
| 头文件 | stdio.h                                                      |
| 返回值 | ==成功读入的参数个数==！！！(ps:可以为０，但不可为负数比如EOF(-1)) |
| 例题   | 写一个程序，读入一行字符串(可能包含空格)，输出这个字符串中字符的数量！！！答案在1.IO/2.c |

| sprintf                                                      | 将ｎ存入某个字符串中 |
| ------------------------------------------------------------ | -------------------- |
| sprintf(str, "%d %d", n1, n2);                               | str为一个字符串地址  |
| 注意第一个参数和第三个参数不可相同！！==因为Ｃ语言中未定义== |                      |

| fprintf              | 将内容存入某个文件中 |
| -------------------- | -------------------- |
| fprintf(p,"xxx", x); | p为文件指针          |

| sscanf               | 从某个字符串中读入数据 |
| -------------------- | ---------------------- |
| sscanf(str, "%s",p); | str为一个字符串地址    |
|                      |                        |

| fscanf               | 从某个文件中读入数据 |
| -------------------- | -------------------- |
| fscanf(p, "xxx", x); | p为文件指针          |
|                      |                      |
|                      |                      |

PS: 1.输入字符串时：

　　　scanf函数认为空格就是这个字符串结束;

​			gets函数则认为回车是这个字符串结束．

​			所以想要scanf代替gets,则要加正则表达式

​	即""%==[^\n]==s"为scanf的格式控制字符串．含义就是当当前字符不是\n时就一直读入！！！

 2. 下面两段代码含义相同:

    `while (scanf("%d", &n) != EOF)`

    ==`while (~scanf("%d", &n))`==
    
 3. stderr即标准错误输出的作用：

    我们在开发一个大型工程的时候，程序中可能会碰到中间执行过程中遇到的系统问题，比如说一个变量不为NULL但现在为NULL，那你现在想记录下这个情况，就必须存下这个信息，通常做法是向着标准错误输出中去输出那段内容，这样就可以分离标准输出和标准错误输出 而系统中到底有没有错误，我们只需要打开stderr这个文件看看里面有没有内容就知道有没有bug了！

## ＣＨ２、数学运算

### 1)位运算操作符：

0. 位运算核心：==不同位之间相互独立！！！==

   所以只需要考虑１位就可以！

1. "**&**":与运算　俗称”逻辑*“　两个同时为1，结果为1，否则为0

   ==作用：判断数字某一位是不是１，判断奇偶数==
   
   ==本质：取出二进制数字的某些位！！！！只需将要取出的位写１其余位为０==


| if (n & 1) | 判断n（二进制，但输入照样输入十进制）的最后一位是不是１ |
| ---------- | ------------------------------------------------------- |
| if (n & 2) | 判断ｎ（二进制，同上）的倒数第二位是不是１              |
| if (n & 4) | 判断ｎ（二进制，同上）的倒数第三位是不是１              |
| i % 2      | i & 1 (==取出最后一位==)                                |
| i % 4      | i & 3 (取出最后两位)                                    |
| i % 8      | i & 7 (取出最后三位)                                    |

2. ”**｜**“：或运算　俗称”逻辑＋“参加运算的两个对象，一个为1，其值为1。　

   ==作用：将数字中的某一位设置为１==

3. "**^**" : 异或运算　判断两个二进制数字相应位置上数是否相同，相同为０，不同为１．

   ==本质：统计多个二进制数相应位置上的１的奇偶性==

   ==性质：（１）．自身是自身的逆运算　２．交换律==　

   ==Ｅxample　：一个数组中所有数都出现两次只有一个数出现一次，找出这个数的方法就是将这个数组遍历异或一遍（因为所有不为０的数和０异或结果都为本身）==

   ==作用：1.  ==去除某几位！！！！！！比如想去除110010的前两位，只要异或48（１１００００）即可！！！！

      2. ==进行数值的交换  

         eg：

         ```
         `int t, k;`
         
         `t ^= k;`
         
         `k ^= t;`
         
          `t ^= k;` 
         ```

         这样就可以交换t和k的值

   

4. "~" : 按位取反运算

5. ”<<“　：左移运算，末位补０　==左移１位相当于乘２==

6. ”>>“ : 右移运算，最高位补==符号位==　==右移１位相当于除以２并向下取整==



未解决的问题：

1. -3 / 2        (-3)>>1 答案相同吗？为什么

   -3 / 2 = -1; -3 >> 1 = -2

   所以，/2是向0取整，而>>1是向下取整！！！

2. 用异或交换的原理？ 列真值表即可



### 2)数学函数库

1. math.h

注意有一个函数特别特殊！！！！！==abs(n)存放在<stdlib.h>中==

2. 要想获取一个准确的ＰＩ值，就`#const double PI = acos(-1);`

### 3)左值、右值

左值：当我们的代码执行到下一行的时候，这个值还能不能访问的到，还存不存在，如果存在则是左值，否则是右值（比如（a+b）只是个临时的中间变量）

### 4)运算符优先级

要注意到两个点：优先级以及==结合性==（如果是同一优先级是从左向右还是从右向左），比如*p--则是从右向左进行运算，比如a = ++b++是通过不了编译的！！！(++的结合性是从右向左)

## 三、其他：

1. linux中，一切皆文件！！！！！！

2. ">"在linux中是==重定向标准输出==!!

3. 标准错误输出的作用：大型工程中用来存放错误信息

   1. | 字符   | 对应指向的地址     |
      | ------ | ------------------ |
      | stdin  | 标准输入           |
      | stdout | 标准输出           |
      | stderr | 标准错误输出！！！ |

4. C语言中printf函数具有字符串的拼接性，即

   `printf("hello""world");`

   输出的是helloworld（没有空格）

## 四、撕逼利器！！

==cpp reference==　最权威的Ｃ、Ｃ＋＋标准指南

可从海贼宝藏进入

## 五、代码的可迁移性

在不同ＩＤＥ中有些数据类型存储的量不同，这就很难办了。

ＢＵＴ　Ｃ语言中有个头文件解决了这个问题，那就是==<inttypes>==

因此你定义的时候定义成`int64_t a;` 即可，格式控制符为==”％"PRId64==  (因为PRId64本身就是个宏定义的字符串)



## 六、code演示阶段

1. 二进制数字不能精确表示有些数，比如0.2，所以float的精度为７位，double的精度为１５位（HZOJ98题PI乘r方与r方乘PI结果不一样）
2. ++操作只能用于左值，在c语言中中间变量为右值

## 七、计算机基础知识：

 -1的原码表示：

​		１００１

​	补码：１１１１（即除符号位之外按位取反再＋１）