# ＣＨ３、程序流程控制

0. 时钟周期是计算机中最基本最小的时间单位，在一个时钟周期内，CPU仅完成一个最基本的动作

1. 表达式是运算符及其运算数的序列，它指定一个运算。

2. 表达式求值可以产生结果，可能产生副效应(如printf)，并可以指代对象或函数。

3. ==胡船长==说：“表达式可分为两部分，一是 a+b , a = 123(赋值表达式、算术表达式)，二就是逻辑表达式，逻辑表达式的结果是严格地等于０或１的。”

4. if () 后面跟一条语句，一条语句指的是三种情况，一是空语句，二是单一语句，三是复合语句(即用{}括起来的多条语句)。

5. 将ｘ逻辑归一化的代码  `!!(x)`

6. ＣＰＵ会把一条指令的操作分成５部分：１．取指令　２．指令预解析　３．取数据　４．执行　５．写回

7. CPU是流水线工作的！！！，所以CPU会对下一次的指令进行预测，所以ＣＰＵ厌恶分支和循环结构

8. switch语句：switch之后的（）中必须是一个有明确整形值的==表达式==

9. 运算都要耗时，速度排名（从快到慢：位运算、＋－、*/、％），所以能用位运算就用位运算！！！！！

10. 以下是从linux内核中扒出来的代码：

    #define likely(x) __builtin_expect(!!(x), 1)

    #define unlikely(x) __builtin_expect(!!(x), 0)

    //likely代表x经常成立，unlikely代表x不经常成立

## code演示阶段

1. `if (a - b)`<==>`if (a != b)`          

   ==为了追求速度就可写前者==

   而 (a - 0)<==>(a != 0)   

   即(a != 0)<==>(a)

   

2. ==要灵活运用条件运算符的短路情况==

   1. 输出乘法表，普通的之间隔"\t",每行末尾换行"\n".

      ```c
      　printf("%d*%d=%d", i, j, i*j);
      　j == n || printf("\t");
      　j == n && printf("\n");
      ```

      

   2. 需求：输出１０个整形０－９，每个数之前有个空格，但是最后不能多出一个空格

   ```c
   for (i = 0; i < 10; i++) {
   							i && printf(" ");
     // i == 0 || printf(" ");
     				printf("%d", i);
   }
   ```

   

   ==启示：if () + {}    利用条件运算符简化,而且 a || b等价于if (a) else b==

3. 如何随机生成ｎ个数字？

   1. 初始化随机种子 `srand(time(0));`

   2. 利用rand函数（头文件为<stdlib>）生成n个数字

      ```c
      #include <stdlib>
      #include <stdio.h>
      #include <time.h>
      
      int main() {
      					srand(time(0));
      					int value;
      					value = rand() % n;//随机生成０～ｎ－１之间的数
      
      					return 0;
   }
      ```
      
      

4. ==经典例题：随机生成０－９９之间的数，判断奇偶性（拓展至４、　８、　１６的倍数）==

5. 经典小技巧(骚操作)：如何将数字字符‘０’～‘９’转化为数字？

   1. －４８即－‘０‘即可

   2. 优化：

      | 骚操作           | 等价于           |
   | ---------------- | ---------------- |
      | & 15             | 取出二进制后四位 |
      | ^  48            | 去除二进制前两位 |
      | 这是因为二进制下 | 1的表示为110001  |
      
      
      
      

6. while  dowhile有区别的例子:（第一次判断没有废掉）

   ```c
   //判断输入的数有几位
   #include <stdio.h>
   
   int main() {
   				int n;
   				scanf("%d", &n);
   				int sum = 0;
   				do {
   									sum++;
   									n /= 10
   				}while(n);
   				printf("has %d digits\n", sum);
      return 0;
   }
   ```

   